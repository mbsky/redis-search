### 功能 ###

用于数据量较大的情况下组合查询，支持模糊查询，类似mysql like ‘%keyword%’，使用传统倒排和归并的方式，可以已比较快的速度查询到需要的结果，现在接口支持多字段联合查询，字段类型分不分词、分词两种，分词就是对需要用到模糊查询的字段进行分词索引。分词方法独立，可以自定义分词方式，系统现在使用的是中文取相隔2个字，英文和数字取截止不是同一类型的串。redis服务器的zinterstore方法经过简单修改，就可以实现通用的搜索功能。



---



### 优缺点 ###

相比其他开源搜索引擎，要有运算性能高（c语言），存取速度快（内存型），数据透明（可以灵活查看索引情况，脏数据检查等），分词方法自定义（满足不同业务需求），轻量，维护方便，无downtime等。缺点就是比较耗内存，是高富帅的理想选择。



---



### 接口说明 ###

1、添加索引接口：只需传入主键ID和各个列的列名和列值的K-V数组即可，删除索引和添加一样。
2、查询接口：只需传入要查询的列名和列值的K-V数组，分页参数，记录总数（引用传递）即可获得满足要求的返回值。



---



### 实际应用 ###

第一台存储索引，条数是1.5亿，占用redis内存42G，磁盘空间9G。第二台存储索引相关联的数据记录（并不是只能存储索引而是可以存储其他人任何数据） 1亿条，占用内存15G，磁盘空间6G。

搜索查询记录平均耗时2-10ms, 添加单条索引耗时：0.5-2ms,单条索引更新平均耗时2-5ms。